# ==================== SERVER CONFIGURATION ====================
SERVER_MODE=debug
SERVER_PORT=9000
FRONTEND_PORT=3000
HTTP_PORT=8080
HTTPS_PORT=8443

# Build target for frontend (development or production)
FRONTEND_BUILD_TARGET=production

# ==================== IMAGE CONFIGURATION (Production) ====================
# Image tag for ghcr.io images (used with docker-compose.prod.yml)
IMAGE_TAG=0.1.1

# ==================== DATABASE CONFIGURATION ====================
DB_HOST=postgres
DB_PORT=5432
DB_USER=oryxid
DB_PASSWORD=oryxid_secret
DB_NAME=oryxid
DB_SSL_MODE=disable

# ==================== REDIS CONFIGURATION ====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_secret
REDIS_DB=0

# ==================== OAUTH CONFIGURATION ====================
# The issuer URL should be the public-facing URL that clients use to reach OryxID.
# This is used in JWT 'iss' claims and OIDC discovery endpoints.
# For development with nginx proxy: https://localhost:8443
# For production: https://your-domain.com
OAUTH_ISSUER=https://localhost:8443
OAUTH_ACCESS_TOKEN_LIFESPAN=3600s
OAUTH_REFRESH_TOKEN_LIFESPAN=2592000s
OAUTH_AUTHORIZATION_CODE_LIFESPAN=600s

# ==================== ADMIN USER CONFIGURATION ====================
# These are the login credentials for the admin panel
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@oryxid.local
ADMIN_PASSWORD=admin123

# ==================== JWT CONFIGURATION ====================
JWT_KID=default-key-id
JWT_PRIVATE_KEY_PATH=/app/certs/private_key.pem
JWT_PUBLIC_KEY_PATH=/app/certs/public_key.pem

# ==================== SECURITY CONFIGURATION ====================
SECURITY_BCRYPT_COST=12
SECURITY_RATE_LIMIT_ENABLED=true
SECURITY_RATE_LIMIT_RPS=100
SECURITY_RATE_LIMIT_BURST=10
SECURITY_PKCE_REQUIRED=true
SECURITY_CSRF_ENABLED=true

# ==================== FRONTEND CONFIGURATION ====================
# This URL is used by the frontend to connect to the backend API
VITE_API_URL=http://localhost:9000

# ==================== LOGGING CONFIGURATION ====================
LOG_LEVEL=debug
LOG_FORMAT=json

# ==================== SSL/TLS CONFIGURATION ====================
# Domain name for Let's Encrypt certificates (required for production)
SSL_DOMAIN=localhost
# Email for Let's Encrypt notifications (required for production)
SSL_EMAIL=admin@example.com
# SSL mode: "selfsigned" for development, "letsencrypt" for production
SSL_MODE=selfsigned